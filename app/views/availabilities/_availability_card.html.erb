<div class="border rounded p-4 bg-white shadow relative">
  <div class="flex justify-between items-start mb-2">
    <h2 class="text-lg font-semibold text-gray-800">
      <%= user.name %> (<%= user.role %>)
    </h2>

    <%= button_to "🗑️", 
      user_availabilities_path(user), 
      method: :delete, 
      form: { data: { turbo_confirm: "¿Estás seguro de eliminar todas las disponibilidades de #{user.name}?" } },
      class: "text-red-500 hover:text-red-700 text-xl font-bold px-2 py-1 rounded-md transition" %>
  </div>

  <% user.availabilities.order(:day).each do |a| %>
    <p class="text-gray-700 text-sm">
      <strong><%= Date::DAYNAMES[a.day] %>:</strong>
      <%= a.start_time.strftime("%H:%M") %> - <%= a.end_time.strftime("%H:%M") %>
    </p>
  <% end %>

  <% nota = user.availabilities.first&.notes %>
  <% if nota.present? %>
    <p class="text-sm text-indigo-700 italic mb-2">
      <strong>📝 Notas:</strong> <%= nota %>
    </p>
  <% end %>

  <p class="text-gray-500 text-xs mt-2">
    Enviado el: <%= user.availabilities.first.created_at.strftime("%d/%m/%Y %H:%M") %>
  </p>
</div>
