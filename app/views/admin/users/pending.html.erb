<h1 class="text-3xl font-bold mb-6 text-gray-800">Usuarios Pendientes de Aprobación</h1>

<div class="overflow-x-auto">
  <table class="min-w-full bg-white border border-gray-200 rounded-lg shadow-sm">
    <thead class="bg-gray-800 text-white">
      <tr>
        <th class="py-3 px-4 text-left">Nombre</th>
        <th class="py-3 px-4 text-left">Email</th>
        <th class="py-3 px-4 text-left">Rol a asignar</th>
        <th class="py-3 px-4 text-left">Aprobar</th>
                <th class="py-3 px-4 text-left">Eliminar</th>

      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200">
      <% @pending_users.each do |user| %>
        <tr class="hover:bg-gray-50">
          <td class="py-3 px-4 text-gray-700"><%= user.name %></td>
          <td class="py-3 px-4 text-gray-700"><%= user.email %></td>
          <td class="py-3 px-4">
            <%= form_with model: [:admin, user], url: approve_admin_user_path(user), method: :patch, local: true, class: "flex space-x-2 items-center" do |f| %>
              <%= f.select :role,
                    options_for_select(
                      User.roles.keys
                          .reject { |r| r == "admin" }
                          .map { |r| [r.titleize, r] }
                    ),
                    {}, # options
                    class: "border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 py-2 px-3"
              %>
          </td>
          <td class="py-3 px-4">

              <%= f.submit "Aprobar", class: "inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
            <% end %>
           <td class="py-3 px-4">
        <%= button_to "Eliminar", admin_user_path(user),
      method: :delete,
      data: {
        controller: "confirm",
        action: "confirm#confirm",
        confirm_message: "¿Estás seguro de que quieres eliminar este usuario?"
      },
      class: "inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500" %>
 </td>

          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
